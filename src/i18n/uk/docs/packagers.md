# üì¶ –ü–∞–∫—É–≤–∞–ª—å–Ω–∏–∫–∏

–£ Parcel `Packager` –æ–±'—î–¥–Ω—É—î –∫—ñ–ª—å–∫–∞`Assets` —Ä–∞–∑–æ–º –≤ –∫—ñ–Ω—Ü–µ–≤–∏–π –≤–∏—Ö—ñ–¥–Ω–∏–π –±–∞–Ω–¥–ª. –¶–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤—Å—ñ —Ä–µ—Å—É—Ä—Å–∏ –æ–±—Ä–æ–±–ª–µ–Ω—ñ —ñ —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥–µ—Ä–µ–≤–æ –±–∞–Ω–¥–ª—ñ–≤. –ü–∞–∫—É–≤–∞–ª—å–Ω–∏–∫–∏ —Ä–µ—î—Å—Ç—Ä—É—é—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–∏–ø—É –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª—É, –∞ —Ä–µ—Å—É—Ä—Å–∏, —è–∫—ñ –∑–≥–µ–Ω–µ—Ä—É–≤–∞–ª–∏ —Ü–µ–π —Ç–∏–ø –≤–∏–≤–µ–¥–µ–Ω–Ω—è, –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –≤ –±–∞–Ω–¥–ª –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª—É.

## –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–∫—É–≤–∞–ª—å–Ω–∏–∫–∞

```javascript
const {Packager} = require('parcel-bundler');

class MyPackager extends Packager {
  async start() {
    // (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –∑–∞–ø–∏—Å –¢–µ–º–∞ —Ñ–∞–π–ª—É, —è–∫—â–æ —Ü–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ.
    await this.dest.write(header);
  }

  async addAsset(asset) {
    // –∑–∞–ø–∏—Å —Ä–µ—Å—É—Ä—Å—É —É –≤–∏—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª.
    await this.dest.write(asset.generated.foo);
  }

  async end() {
    // (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –ø—Ä–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –Ω–∞–ø–∏—à—ñ—Ç—å –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ñ–∞–π–ª—É.
    await this.dest.end(trailer);
  }
}
```

## –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –ø–∞–∫—É–≤–∞–ª—å–Ω–∏–∫–∞

–í–∏ –º–æ–∂–µ—Ç–µ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –ø–∞–∫—É–≤–∞–ª—å–Ω–∏–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É `addPackager`. –í—ñ–Ω –ø—Ä–∏–π–º–∞—î —Ç–∏–ø —Ñ–∞–π–ª—É –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —ñ —à–ª—è—Ö –¥–æ –≤–∞—à–æ–≥–æ –º–æ–¥—É–ª—è –ø–∞–∫—É–≤–∞–ª—å–Ω–∏–∫–∞.

```javascript
const Bundler = require('parcel-bundler');

let bundler = new Bundler('input.js');
bundler.addPackager('foo', require.resolve('./MyPackager'));
```

